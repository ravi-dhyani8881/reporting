<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="app" >
  <resultMap id="baseResultMap" class="com.mobicart.model.App" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Sep 11 20:50:28 IST 2010.
    -->
    <result column="id" property="id" jdbcType="BIGINT" />
    <result column="user_id" property="userId" jdbcType="BIGINT" />
    <result column="s_name" property="sName" jdbcType="VARCHAR" />
    <result column="s_title" property="sTitle" jdbcType="VARCHAR" />
    <result column="f_price" property="fPrice" jdbcType="DECIMAL" />
    <result column="s_description" property="sDescription" jdbcType="VARCHAR" />
    <result column="s_copyright" property="sCopyright" jdbcType="VARCHAR"  />
    <result column="s_icon_image" property="sIconImage" jdbcType="VARCHAR" />
    <result column="s_loader_image" property="sLoaderImage" jdbcType="VARCHAR" />
    <result column="s_pn_certificate_path" property="sPnCertificatePath" jdbcType="VARCHAR" />
    <result column="i_download_count" property="iDownloadCount" jdbcType="BIGINT" />
    <result column="b_submission_to_apple" property="bSubmissionToApple" jdbcType="BIT" />
    <result column="d_created_on" property="dCreatedOn" jdbcType="TIMESTAMP" />
    <result column="d_updated_on" property="dUpdatedOn" jdbcType="TIMESTAMP" />
    <result column="b_enabled" property="bEnabled" jdbcType="BIT" />
    <result property="colorScheme"  column="id" select="color_schemes.selectByAppId" />
    <result property="features"  column="id" select="features.selectByAppId" />
    <result property="territories"  column="id" select="territories.selectByAppId" />
    <result property="companyLogo"  column="user_id" select="users.selectCompanyLogoByUserId" />
<!--    <result property="sCurrency"  column="user_id" select="stores.selectCurrencyByUserId" />-->
    <result property="appSubmissionFee" column="id"  select="site_constants.selectAppSubmissionFee" />
    <result property="appSubmissionRecurringFee" column="id"  select="site_constants.selectAppSubmissionRecurringFee" />
  </resultMap>
  <sql id="Example_Where_Clause" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Sep 11 20:50:28 IST 2010.
    -->
    <iterate property="oredCriteria" conjunction="or" prepend="where" removeFirstPrepend="iterate" >
      <isEqual property="oredCriteria[].valid" compareValue="true" >
        (
        <iterate prepend="and" property="oredCriteria[].criteriaWithoutValue" conjunction="and" >
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue" conjunction="and" >
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithListValue" conjunction="and" >
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate property="oredCriteria[].criteriaWithListValue[].values" open="(" close=")" conjunction="," >
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue" conjunction="and" >
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  <select id="selectByExample" resultMap="baseResultMap" parameterClass="com.mobicart.model.AppExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Sep 11 20:50:28 IST 2010.
    -->
    select id, user_id, s_name, s_title, f_price, s_description, s_copyright, s_icon_image,
      s_loader_image,s_pn_certificate_path, i_download_count, b_submission_to_apple, d_created_on, d_updated_on, b_enabled ,version  
    from app
    <isParameterPresent >
      <include refid="app.Example_Where_Clause" />
      <isNotNull property="orderByClause" >
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  <select id="selectByPrimaryKey" resultMap="baseResultMap" parameterClass="com.mobicart.model.App" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Sep 11 20:50:28 IST 2010.
    -->
    select id, user_id, s_name, s_title, f_price, s_description, s_copyright, s_icon_image,
      s_loader_image,s_pn_certificate_path, b_download_count, b_submission_to_apple, d_created_on, d_updated_on, b_enabled,version 
    from app	
    where id = #id:BIGINT#
  </select>
  
  <select id="selectAll" parameterClass="com.mobicart.model.App" resultMap="baseResultMap">
    select id, user_id, s_name, s_title, f_price, s_description, s_copyright, s_icon_image, s_loader_image
      ,s_pn_certificate_path,i_download_count, b_submission_to_apple, d_created_on, d_updated_on, b_enabled,version 
    from app
  </select>
  
  
  <select id="selectById" parameterClass="com.mobicart.model.App" resultMap="baseResultMap">
    select id, user_id, s_name, s_title, f_price, s_description, s_copyright, s_icon_image, s_loader_image,
      s_pn_certificate_path,i_download_count, b_submission_to_apple, d_created_on, d_updated_on, b_enabled,version 
    from app
    where id = #id:BIGINT#
  </select>
  
  <select id="selectAppById" parameterClass="long" resultMap="baseResultMap">
  select id, user_id, s_name, s_title, f_price, s_description, s_copyright, s_icon_image, s_loader_image,
      s_pn_certificate_path,i_download_count, b_submission_to_apple, d_created_on, d_updated_on, b_enabled,version 
    from app
    where id = #value#
  </select>
  
  <select id="selectByUserId" parameterClass="long" resultMap="baseResultMap">
  select id, user_id, s_name, s_title, f_price, s_description, s_copyright, s_icon_image, s_loader_image, s_pn_certificate_path,
      i_download_count, b_submission_to_apple, d_created_on, d_updated_on, b_enabled,version 
    from app
    where user_id = #value#
  </select>
  
  <select id="selectAppIdByUserId" parameterClass="long" resultClass="long">
  	select id
    	from app
    where user_id = #value#
  </select>
  
  
  <select id="selectByUser" parameterClass="com.mobicart.model.App" resultMap="baseResultMap">
    select id, user_id, s_name, s_title, f_price, s_description, s_copyright, s_icon_image, s_loader_image,
      i_download_count, b_submission_to_apple, d_created_on, d_updated_on, b_enabled,version 
    from app
    where user_id = #userId:BIGINT#
  </select>
  
  <delete id="deleteByPrimaryKey" parameterClass="com.mobicart.model.App" >
    delete from app
    where id = #id:BIGINT#
  </delete>

  <delete id="deleteByExample" parameterClass="com.mobicart.model.AppExample" >
    delete from app
    <include refid="app.Example_Where_Clause" />
  </delete>

  <insert id="insert" parameterClass="com.mobicart.model.App" >
    insert into app (id, user_id, s_name, s_title, f_price, s_description, s_copyright,
      s_icon_image, s_loader_image, i_download_count, b_submission_to_apple, d_created_on,
      d_updated_on, b_enabled)
    values (#id:BIGINT#, #userId:BIGINT#, #sName:VARCHAR#, #sTitle:VARCHAR#, #fPrice:DECIMAL#,
      #sDescription:VARCHAR#, #sCopyright:VARCHAR#, #sIconImage:VARCHAR#, #sLoaderImage:VARCHAR#,
      #iDownloadCount:BIGINT#, #bSubmissionToApple:BIT#, #dCreatedOn:TIMESTAMP#,
      #dUpdatedOn:TIMESTAMP#, #bEnabled:BIT#)
      <selectKey resultClass="long" keyProperty="id">
            SELECT LAST_INSERT_ID() AS id
        </selectKey>
  </insert>

  <insert id="insertSelective" parameterClass="com.mobicart.model.App" >
    insert into app
    <dynamic prepend="(" >
      <isNotNull prepend="," property="id" >
        id
      </isNotNull>
      <isNotNull prepend="," property="userId" >
        user_id
      </isNotNull>
      <isNotNull prepend="," property="sName" >
        s_name
      </isNotNull>
      <isNotNull prepend="," property="sTitle" >
        s_title
      </isNotNull>
      <isNotNull prepend="," property="fPrice" >
        f_price
      </isNotNull>
      <isNotNull prepend="," property="sDescription" >
        s_description
      </isNotNull>
      <isNotNull prepend="," property="sCopyright" >
        s_copyright
      </isNotNull>
      <isNotNull prepend="," property="sIconImage" >
        s_icon_image
      </isNotNull>
      <isNotNull prepend="," property="sLoaderImage" >
        s_loader_image
      </isNotNull>
      <isNotNull prepend="," property="iDownloadCount" >
        i_download_count
      </isNotNull>
      <isNotNull prepend="," property="bSubmissionToApple" >
        b_submission_to_apple
      </isNotNull>
      <isNotNull prepend="," property="dCreatedOn" >
        d_created_on
      </isNotNull>
      <isNotNull prepend="," property="dUpdatedOn" >
        d_updated_on
      </isNotNull>
      <isNotNull prepend="," property="bEnabled" >
        b_enabled
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="id" >
        #id:BIGINT#
      </isNotNull>
      <isNotNull prepend="," property="userId" >
        #userId:BIGINT#
      </isNotNull>
      <isNotNull prepend="," property="sName" >
        #sName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sTitle" >
        #sTitle:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fPrice" >
        #fPrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="sDescription" >
        #sDescription:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sCopyright" >
        #sCopyright:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sIconImage" >
        #sIconImage:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sLoaderImage" >
        #sLoaderImage:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="iDownloadCount" >
        #iDownloadCount:BIGINT#
      </isNotNull>
      <isNotNull prepend="," property="bSubmissionToApple" >
        #bSubmissionToApple:BIT#
      </isNotNull>
      <isNotNull prepend="," property="dCreatedOn" >
        #dCreatedOn:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="dUpdatedOn" >
        #dUpdatedOn:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="bEnabled" >
        #bEnabled:BIT#
      </isNotNull>
      )
    </dynamic>
    <selectKey resultClass="long" keyProperty="id">
            SELECT LAST_INSERT_ID() AS id
        </selectKey>
  </insert>
  <select id="countByExample" parameterClass="com.mobicart.model.AppExample" resultClass="java.lang.Integer" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Sep 11 20:50:29 IST 2010.
    -->
    select count(*) from app
    <include refid="app.Example_Where_Clause" />
  </select>
  <update id="updateByExampleSelective" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Sep 11 20:50:29 IST 2010.
    -->
    update app
    <dynamic prepend="set" >
      <isNotNull prepend="," property="record.id" >
        id = #record.id:BIGINT#
      </isNotNull>
      <isNotNull prepend="," property="record.userId" >
        user_id = #record.userId:BIGINT#
      </isNotNull>
      <isNotNull prepend="," property="record.sName" >
        s_name = #record.sName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.sTitle" >
        s_title = #record.sTitle:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.fPrice" >
        f_price = #record.fPrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.sDescription" >
        s_description = #record.sDescription:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.sCopyright" >
        s_copyright = #record.sCopyright:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.sIconImage" >
        s_icon_image = #record.sIconImage:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.sLoaderImage" >
        s_loader_image = #record.sLoaderImage:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.iDownloadCount" >
        i_download_count = #record.iDownloadCount:BIGINT#
      </isNotNull>
      <isNotNull prepend="," property="record.bSubmissionToApple" >
        b_submission_to_apple = #record.bSubmissionToApple:BIT#
      </isNotNull>
      <isNotNull prepend="," property="record.dCreatedOn" >
        d_created_on = #record.dCreatedOn:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="record.dUpdatedOn" >
        d_updated_on = #record.dUpdatedOn:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="record.bEnabled" >
        b_enabled = #record.bEnabled:BIT#
      </isNotNull>
    </dynamic>
    <isParameterPresent >
      <include refid="app.Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="updateByExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Sep 11 20:50:29 IST 2010.
    -->
    update app
    set id = #record.id:BIGINT#,
      user_id = #record.userId:BIGINT#,
      s_name = #record.sName:VARCHAR#,
      s_title = #record.sTitle:VARCHAR#,
      f_price = #record.fPrice:DECIMAL#,
      s_description = #record.sDescription:VARCHAR#,
      s_copyright = #record.sCopyright:VARCHAR#,
      s_icon_image = #record.sIconImage:VARCHAR#,
      s_loader_image = #record.sLoaderImage:VARCHAR#,
      i_download_count = #record.iDownloadCount:BIGINT#,
      b_submission_to_apple = #record.bSubmissionToApple:BIT#,
      d_created_on = #record.dCreatedOn:TIMESTAMP#,
      d_updated_on = #record.dUpdatedOn:TIMESTAMP#,
      b_enabled = #record.bEnabled:BIT#
    <isParameterPresent >
      <include refid="app.Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="updateByPrimaryKeySelective" parameterClass="com.mobicart.model.App" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Sep 11 20:50:29 IST 2010.
    -->
    update app
    <dynamic prepend="set" >
      <isNotNull prepend="," property="userId" >
        user_id = #userId:BIGINT#
      </isNotNull>
      <isNotNull prepend="," property="sName" >
        s_name = #sName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sTitle" >
        s_title = #sTitle:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fPrice" >
        f_price = #fPrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="sDescription" >
        s_description = #sDescription:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sCopyright" >
        s_copyright = #sCopyright:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sIconImage" >
        s_icon_image = #sIconImage:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sLoaderImage" >
        s_loader_image = #sLoaderImage:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="iDownloadCount" >
        i_download_count = #iDownloadCount:BIGINT#
      </isNotNull>
      <isNotNull prepend="," property="bSubmissionToApple" >
        b_submission_to_apple = #bSubmissionToApple:BIT#
      </isNotNull>
      <isNotNull prepend="," property="dCreatedOn" >
        d_created_on = #dCreatedOn:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="dUpdatedOn" >
        d_updated_on = #dUpdatedOn:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="bEnabled" >
        b_enabled = #bEnabled:BIT#
      </isNotNull>
    </dynamic>
    where id = #id:BIGINT#
  </update>
  <update id="updateByPrimaryKey" parameterClass="com.mobicart.model.App" >
    update app
    set user_id = #userId:BIGINT#,
      s_name = #sName:VARCHAR#,
      s_title = #sTitle:VARCHAR#,
      f_price = #fPrice:DECIMAL#,
      s_description = #sDescription:VARCHAR#,
      s_copyright = #sCopyright:VARCHAR#,
      s_icon_image = #sIconImage:VARCHAR#,
      s_loader_image = #sLoaderImage:VARCHAR#,
      i_download_count = #iDownloadCount:BIGINT#,
      b_submission_to_apple = #bSubmissionToApple:BIT#,
      d_created_on = #dCreatedOn:TIMESTAMP#,
      d_updated_on = #dUpdatedOn:TIMESTAMP#,
      b_enabled = #bEnabled:BIT#
    where id = #id:BIGINT#
  </update>
</sqlMap>